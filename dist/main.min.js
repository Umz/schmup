!function e(t,s,a){function o(i,r){if(!s[i]){if(!t[i]){var l="function"==typeof require&&require;if(!r&&l)return l(i,!0);if(n)return n(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var d=s[i]={exports:{}};t[i][0].call(d.exports,function(e){var s=t[i][1][e];return o(s?s:e)},d,d.exports,e,t,s,a)}return s[i].exports}for(var n="function"==typeof require&&require,i=0;i<a.length;i++)o(a[i]);return o}({"/Users/seanodonohue/myProjects/schmup-prototype/src/js/main.js":[function(e,t,s){"use strict";var a=new Phaser.Game(800,600,Phaser.AUTO,"schmup-game");window.Utils=e("./utils"),window.playerState={currentLevel:"Game"},a.state.add("Boot",e("./states/boot")),a.state.add("Splash",e("./states/splash")),a.state.add("Preloader",e("./states/preloader")),a.state.add("Menu",e("./states/menu")),a.state.add("Game",e("./states/game")),a.state.start("Boot")},{"./states/boot":"/Users/seanodonohue/myProjects/schmup-prototype/src/js/states/boot.js","./states/game":"/Users/seanodonohue/myProjects/schmup-prototype/src/js/states/game.js","./states/menu":"/Users/seanodonohue/myProjects/schmup-prototype/src/js/states/menu.js","./states/preloader":"/Users/seanodonohue/myProjects/schmup-prototype/src/js/states/preloader.js","./states/splash":"/Users/seanodonohue/myProjects/schmup-prototype/src/js/states/splash.js","./utils":"/Users/seanodonohue/myProjects/schmup-prototype/src/js/utils.js"}],"/Users/seanodonohue/myProjects/schmup-prototype/src/js/states/boot.js":[function(e,t,s){var a=function(){};t.exports=a,a.prototype={preload:function(){this.load.image("preloader","assets/preloader.gif")},create:function(){this.game.input.maxPointers=1,this.game.device.desktop?this.game.stage.scale.pageAlignHorizontally=!0:(this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.minWidth=800,this.game.scale.minHeight=600,this.game.scale.maxWidth=800,this.game.scale.maxHeight=600,this.game.scale.forceLandscape=!0,this.game.scale.pageAlignHorizontally=!0,this.game.scale.setScreenSize(!0)),this.game.state.start("Preloader")}}},{}],"/Users/seanodonohue/myProjects/schmup-prototype/src/js/states/game.js":[function(e,t,s){"use strict";var a,o,n,i,r,l,c,d,u,h,m,p,y,f,g,x,b,v=0,A=0,j=2,P=25,S=P,T={acceleration:600,drag:350,maxSpeed:400},E={xSmall:.4,small:.5,medium:.75,large:1,xLarge:1.25,miniBoss:1.5,boss:2},B=function(){this.testentity=null};t.exports=B,B.prototype={create:function(){function e(){a=w.add.sprite(400,500,"ship"),w.physics.arcade.enable(a),a.events.onKilled.add(function(){b.kill()}),a.body.maxVelocity.setTo(T.maxSpeed,T.maxSpeed),a.body.drag.setTo(T.drag,T.drag),a.anchor.setTo(.5,.5),a.health=100,a.size=E.large,w.createShipTrail(a,"plasma")}function t(){g=w.input.keyboard.createCursorKeys(),x=w.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR)}function s(){l=w.add.group(),c=w.add.group(),d=w.add.group(),r=[l,c,d];var e=function(){function e(){return a&&s.alive&&s.bullets&&A>s.firingSpeed+s.lastShot}function t(){return w.randomIntegerFrom(1,100)>80}var s=this,a=s.weapon.getFirstExists(!1);e()&&t()&&(s.lastShot=A,s.bullets--,a.reset(s.x+s.width/2,s.y+.75*s.height),a.damageAmount=s.bulletDamageAmount,a.body.velocity.y=s.bulletSpeed,a.body.velocity.x=0,a.body.drag=0,a.body.angle=90)};l.init=function(){this.createMultiple(50,"droneScout"),this.minWaveTiming=140,this.maxWaveTiming=380,this.minWaveNumber=3,this.maxWaveNumber=5,this.forEach(function(e){e.damageAmount=10,e.level=2,e.speed=w.randomIntegerFrom(250,450),e.drift=30,e.drag=w.randomIntegerFrom(100,200),e.minX=50,e.maxX=750,e.scale.x=E.xSmall,e.scale.y=E.xSmall})},c.init=function(){this.createMultiple(15,"droneFighter"),this.minWaveTiming=190,this.maxWaveTiming=500,this.minWaveNumber=2,this.maxWaveNumber=4,this.scoreThreshold=1e3,this.forEach(function(t){t.damageAmount=25,t.level=3,t.speed=w.randomIntegerFrom(250,400),t.drift=w.randomIntegerFrom(200,450),t.drag=50,t.minX=100,t.maxX=700,t.scale.x=E.medium,t.scale.y=E.medium,t.weapon=y,t.bullets=4,t.bulletDamageAmount=10,t.bulletSpeed=500,t.firingSpeed=20,t.lastShot=0,t.update=e})},d.init=function(){this.createMultiple(5,"droneBomber"),this.minWaveTiming=500,this.maxWaveTiming=600,this.minWaveNumber=0,this.maxWaveNumber=1,this.forEach(function(t){t.damageAmount=50,t.level=4,t.speed=100,t.drift=5,t.drag=5,t.minX=250,t.maxX=650,t.scale.x=E.large,t.scale.y=E.large,t.weapon=f,t.bullets=2,t.bulletDamageAmount=40,t.bulletSpeed=250,t.firingSpeed=40,t.lastShot=0,t.update=e})},r.forEach(function(e){j(e),e.init()}),w.launchEnemies(w.randomIntegerFrom(3,5),l)}function j(e){e.physicsBodyType=Phaser.Physics.ARCADE,e.enableBody=!0,e.setAll("anchor.x",.5),e.setAll("anchor.y",.5),e.setAll("angle",180),e.setAll("outOfBoundsKill",!0),e.setAll("checkWorldBounds",!0)}function P(){m=w.add.group(),m.enableBody=!0,m.physicsBodyType=Phaser.Physics.ARCADE,m.createMultiple(15,"bullet"),m.setAll("anchor.x",.5),m.setAll("anchor.y",1),m.setAll("outOfBoundsKill",!0),m.setAll("checkWorldBounds",!0),y=w.add.group(),y.enableBody=!0,y.physicsBodyType=Phaser.Physics.ARCADE,y.createMultiple(20,"enemyLaser"),y.setAll("scale.x",.6),y.setAll("scale.y",.6),y.setAll("anchor.x",.5),y.setAll("anchor.y",.5),y.setAll("outOfBoundsKill",!0),y.setAll("checkWorldBounds",!0),f=w.add.group(),f.enableBody=!0,f.physicsBodyType=Phaser.Physics.ARCADE,f.createMultiple(10,"enemyBomb"),f.setAll("scale.x",.75),f.setAll("scale.y",.75),f.setAll("anchor.x",.5),f.setAll("anchor.y",.5),f.setAll("outOfBoundsKill",!0),f.setAll("checkWorldBounds",!0),p=[y,f]}function S(){h=w.add.group(),h.enableBody=!0,h.physicsBodyType=Phaser.Physics.ARCADE,h.createMultiple(30,"explosion"),h.setAll("anchor.x",.5),h.setAll("anchor.y",.5),h.forEach(function(e){e.animations.add("explosion")})}function B(){function e(){o=w.add.bitmapText(w.world.width-250,10,"spacefont",""+a.health+"%",20),o.render=function(){o.text="Shields: "+Math.max(a.health,0)+"%"}}function t(){i=w.add.bitmapText(10,10,"spacefont","",20),i.render=function(){i.text="Score: "+v}}function s(){n=w.add.bitmapText(w.world.centerX,w.world.centerY,"spacefont","GAME OVER!",50),n.x=n.x-n.textWidth/2,n.y=n.y-n.textHeight/3,n.visible=!1}e(),t(),s(),o.render(),i.render()}var w=this;u=w.add.tileSprite(0,0,800,600,"starfield"),e(),t(),P(),s(),S(),B()},update:function(){function e(){A>1e3?A=0:A++}function t(){function e(){g.left.isDown?a.body.acceleration.x=-T.acceleration:g.right.isDown&&(a.body.acceleration.x=T.acceleration),a.alive&&x.isDown&&c()}a.body.acceleration.x=0,w.checkForBounds(50,750,a),e(),b.x=a.x,w.applyBankingToShip(a)}function s(){function e(){function e(){t.detach(),s.detach(),w.restart()}var t=w.input.onTap.addOnce(e,w),s=x.onDown.addOnce(e,w)}if(!a.alive&&0==n.visible){n.visible=!0,n.alpha=0;var t=w.add.tween(n);t.to({alpha:1},1e3,Phaser.Easing.Quintic.Out),t.onComplete.add(e),t.start()}}function l(){r.forEach(function(e){w.physics.arcade.overlap(a,e,d,null,w),w.physics.arcade.overlap(m,e,f,null,w)}),p.forEach(function(e){w.physics.arcade.overlap(e,a,y,null,this)})}function c(){var e=m.getFirstExists(!1);S>P&&(S=0,e&&(e.reset(a.x,a.y-25),e.body.velocity.y=-200,e.body.velocity.x+=a.body.velocity.x/5)),S++}function d(e,t){var s=h.getFirstExists(!1);s.reset(t.body.x+t.body.halfWidth,t.body.y+t.body.halfHeight),s.body.velocity.y=t.body.velocity.y,s.alpha=.7,s.play("explosion",30,!1,!0),t.kill(),e.damage(t.damageAmount),o.render(),B(t)}function y(e,t){E(e),t.kill(),e.damage(t.damageAmount),o.render()}function f(e,t){E(t),t.kill(),e.kill(),B(t)}function E(e){var t=h.getFirstExists(!1);t.reset(e.body.x+e.body.halfWidth,e.body.y+e.body.halfHeight),t.body.velocity.y=e.body.velocity.y,t.alpha=.7,t.play("explosion",30,!1,!0)}function B(e){v+=e.damageAmount*e.level,i.render()}var w=this;u.tilePosition.y+=j,e(),r.forEach(function(e){function t(e){function t(e){return 10*Math.ceil(e/10)}e.waveTimer||(e.waveTimer=t(w.randomIntegerFrom(e.minWaveTiming,e.maxWaveTiming)))}function s(e){A%e.waveTimer===0&&(w.launchEnemies(w.randomIntegerFrom(e.minWaveNumber,e.maxWaveNumber),e),e.waveTimer=null)}var a=e.scoreThreshold||0;v>a&&(t(e),s(e))}),l(),s(),t()},launchEnemies:function(e,t){function s(){var e=t.getFirstExists(!1);if(e){var s=a.randomIntegerFrom(e.minX,e.maxX);e.reset(s,-20),e.body.velocity.x=a.randomIntegerFrom(-e.drift,e.drift),e.body.velocity.y=e.speed,e.body.drag.x=e.drag}}for(var a=this,o=0;e>o;o++)s()},setEnemyAttributes:function(e,t){t=t||{},game.physics.enable(e,Phaser.Physics.ARCADE);for(attr in t)e[attr]=t[attr]},checkForBounds:function(e,t,s){s.x>t&&(s.x=t,s.body.acceleration.x=-50),s.x<e&&(s.x=e,s.body.acceleration.x=50)},applyBankingToShip:function(e){var t=e.body.velocity.x/T.maxSpeed;e.scale.x=e.size-Math.abs(t)/4,e.angle=5*t},createShipTrail:function(e,t){b=this.add.emitter(e.x,e.y+40,400),b.width=10,b.makeParticles(t),b.setXSpeed(30,-30),b.setYSpeed(200,180),b.setRotation(50,-50),b.setAlpha(1,.01,800),b.setScale(.05,.4,.05,.4,2e3,Phaser.Easing.Quintic.Out),b.start(!1,5e3,10)},restart:function(){r.forEach(function(e){e.callAll("kill")}),p.forEach(function(e){e.callAll("kill")}),A=0,a.revive(),a.health=100,o.render(),v=0,i.render(),n.visible=!1},randomIntegerFrom:function(e,t){return Math.floor(Math.random()*(t-e)+e+1)},onInputDown:function(){this.game.state.start("Menu")}}},{}],"/Users/seanodonohue/myProjects/schmup-prototype/src/js/states/menu.js":[function(e,t,s){var a=function(){this.text=null,this.subtitle=null};t.exports=a,a.prototype={create:function(){var e=this.game.width/2,t=this.game.height/2;this.text=this.add.bitmapText(e-300,t-200,"spacefont","Click to Start",50),this.subtitle=this.add.bitmapText(e-300,t-100,"spacefont","Arrow keys to move, Space to fire",20),this.input.onDown.add(this.onDown,this)},update:function(){},onDown:function(){this.game.state.start(playerState.currentLevel)}}},{}],"/Users/seanodonohue/myProjects/schmup-prototype/src/js/states/preloader.js":[function(e,t,s){var a=function(e){this.asset=null,this.ready=!1};t.exports=a,a.prototype={preload:function(){this.asset=this.add.sprite(320,240,"preloader"),this.asset.anchor.setTo(.5,.5),this.physics.startSystem(Phaser.Physics.ARCADE),this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.load.setPreloadSprite(this.asset),this.load.image("starfield","assets/starfield.png"),this.load.image("ship","assets/player.png"),this.load.image("plasma","assets/bluePlasma.png"),this.load.image("laser","assets/blueLaser.png"),this.load.image("bullet","assets/blueBullet.png"),this.load.image("enemyLaser","assets/redLaser.png"),this.load.image("enemyBomb","assets/redBomb.png"),this.load.image("droneScout","assets/droneScout.png"),this.load.image("droneFighter","assets/droneFighter.png"),this.load.image("droneBomber","assets/droneBomber.png"),this.load.image("enemyTrail","assets/enemyTrail.png"),this.load.spritesheet("explosion","assets/explosion.png",128,128),this.load.bitmapFont("spacefont","assets/spacefont/spacefont.png","assets/spacefont/spacefont.fnt")},create:function(){this.asset.cropEnabled=!1},update:function(){this.ready&&this.game.state.start("Menu")},onLoadComplete:function(){this.ready=!0}}},{}],"/Users/seanodonohue/myProjects/schmup-prototype/src/js/states/splash.js":[function(e,t,s){var a=function(){};t.exports=a,a.prototype={create:function(){}}},{}],"/Users/seanodonohue/myProjects/schmup-prototype/src/js/utils.js":[function(e,t,s){var a={containsObject:function(e,t){var s;for(s=0;s<t.length;s++)if(t[s]===e)return!0;return!1}};t.exports=a},{}]},{},["/Users/seanodonohue/myProjects/schmup-prototype/src/js/main.js"]);